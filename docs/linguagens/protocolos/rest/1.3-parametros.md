---
title: Par√¢metros
sidebar_position: 4
---

## Par√¢metros

**Tipos de par√¢metros usados em REST**

**Path Params:** S√£o par√¢metros passados via URL e s√£o obrigat√≥rios. Ou seja, caso n√£o seja definido nenhum valor, ele ir√° lan√ßar um erro de valida√ß√£o ou far√° uma request para outra opera√ß√£o, similar, que use o mesmo verbo.

üí≠ Imagine uma URL que nos permita recuperar uma lista de livros de forma p√°ginada. Essa URL cont√©m 3 path params, sendo eles SORT, Page Size e Current Page.

Podemos ent√£o, por exemplo, setar ask para uma ordena√ß√£o ascendente em SORT, dez para uma p√°gina com dez itens e um para come√ßar na p√°gina um. Todos esses par√¢metros s√£o passados via path.

üí≠ Imagine que queremos usar um cat√°logo online de uma biblioteca para buscar livros. O cat√°logo permite que possamos especificar exatamente como queremos que os livros sejam listados: em que ordem (por exemplo, alfab√©tica), quantos livros por p√°gina queremos ver (tamanho da p√°gina) e em qual p√°gina do cat√°logo desejamos visualizar primeiro.

Aqui, a URL do cat√°logo online √© como uma pergunta espec√≠fica que podemos fazer ao bibliotec√°rio. Se n√£o oferecermos todas as partes da pergunta (os par√¢metros), o bibliotec√°rio pode n√£o saber o que estamos pedindo e nos pedir√° que sejamos mais especificos.

### O que s√£o Path Params
No desenvolvimento de APIs web, os **Path Params** (ou par√¢metros de caminho) s√£o partes da URL que especificam os dados que queremos recuperar ou a opera√ß√£o que desejamos realizar. Eles s√£o chamados de "path" porque est√£o literalmente no caminho (URI) que acessamos. S√£o considerados obrigat√≥rios porque a opera√ß√£o que estamos tentando realizar depende desses par√¢metros para ser executada corretamente.

**Exemplo com a Lista de Livros Paginada**

Vamos usar o exemplo da lista de livros paginada. A URL para acessar essa lista pode parecer algo assim:

```ruby 
https://exemplo.com/livros/sort/ask/pageSize/dez/currentPage/um'

```
**Neste caso:**
* **SORT:** √© o par√¢metro que define a ordem dos livros 'ask' significa que queremos os livros em ordem crescente.
* **'pageSize'** define quantos itens queremos ver por p√°gina. 'dez' significa que queremos ver 10 itens em cada p√°gina.
* **'currentPage'** indica a p√°gina atual que queremos visualizar. 'um' significa que queremos come√ßar pela primeira p√°gina.

**Obrigatoriedade:** 

Se tentarmos acessar a URL sem especificar um desses par√¢metros, a API n√£o saber√° como processar nossa solicita√ß√£o corretamente. Por exemplo, se n√£o especificarmos pageSize, como a API saber√° quantos itens retornar por p√°gina? Isso pode resultar em um erro de valida√ß√£o, pois a API espera essas informa√ß√µes para funcionar corretamente.

**Valida√ß√£o e Erros:** 

Se os par√¢metros n√£o forem fornecidos ou forem fornecidos de forma incorreta, a API pode retornar um erro, indicando que algo est√° faltando ou est√° errado na sua solicita√ß√£o.


### Query Params

üí≠ Imagine que, al√©m de especifciar a ordem, o tamanho da p√°gina e a p√°gina atual na sua busca de lviros, tamb√©m queremos filtrar os livros por g√™nero, autor ou ano de publica√ß√£o. Esses filtros adicionais s√£o como perguntas extras que fazeomos ao bibliotec√°rio para refinar a busca.

Na biblioteca online, ao inv√©s de apenas dizer ao bibliotec√°rio como listar os livros, agora tamb√©m pedimos para ver apenas os lviros de fic√ß√£o cientifica, escritos por um autor espec√≠fico, ou publicados em um certo ano. Esses detalhes extras s√£o como ajustes na nossa solicita√ß√£o.


**Afinal, o que √© Query Param?**

Os Query Params s√£o par√¢metros adicionados ao final de uma URL para dar precis√£o e fazer uma melhor filtragem das informa√ß√µes ou dados que desejamos obter de uma API. Eles come√ßam ap√≥s o caractere de interroga√ß√£o '?' e s√£o separados por '&' quando h√° mais de um.

**Exemplo com a Lista de Livros Paginada:**

Utilizando o exemplo anterior da lista de livros paginada, se quisermos adicionar filtros para g√™nero, autor e ano, a URL pode parecer algo assim:

```ruby
https://exemplo.com/livros?genero=ficcao-cientifica&autor=Asimov&ano=1950

```

**Neste caso:**
* **genero** √© um query param que filtra livros por g√™nero. *ficcao-cientifica* indica que estamos interessados apenas em livros desse g√™nero.
* **autor** filtra os livros pelo nome do autor. *Asimov* significa que queremos livros escritos por Asimov.
* **ano** indica o ano de publica√ß√£o dos livros que queremos ver. *1950* filtra para mostrar apenas os livros publicados nesse ano.


#### **Diferen√ßa e Flexibilidade:**

* **Flexibilidade:** Diferentemente dos Path Params, os Query Params s√£o opcionais. Podemos us√°-los para refinar nossa busca, mas a solicita√ß√£o b√°sica ainda ser√° processada sem eles. Isso oferece uma grande flexibilidade para o usu√°rio ajustar a busca conforme necess√°rio.

* **Multiplicidade:** Podemos ter v√°rios Query Params na mesma URL, cada um ajustando diferentes aspectos da nossa solicita√ß√£o.

#### Conclus√£o
Os *Query Params* permitem uma intera√ß√£o mais detalhada e personalizada com a API, oferecendo aos usu√°rios a capacidade de filtrar e ajustar os dados solicitados de acordo com suas necessidades espec√≠ficas. Voltando √† nossa analogia, √© como fazer perguntas adicionais ao bibliotec√°rio para garantir que os livros retornados sejam exatamente os que voc√™ est√° procurando, baseados em crit√©rios muito espec√≠ficos.

### Header Params: O cart√£o de Acesso da Biblioteca

üí≠ Imagine que, ao entrar na biblioteca online, n√≥s precisamos de um cart√£o de acesso especial que informe ao sistema quem somos e quais os servi√ßos que temos permiss√£o para acessar. Este cart√£o pode tamb√©m conter prefer√™ncia como o idioma que voc√™ fala ou a regi√£o de onde voc√™ est√° acessando a biblioteca.

**Header Params:** s√£o como este cart√£o de acesso. Eles s√£o enviados no cabe√ßalho (header) da requisi√ß√£o HTTP e podem conter uma variedade de informa√ß√µes sobre a requisi√ß√£o ou o cliente que est√° fazendo a requisi√ß√£o. Eles s√£o usados para:

* Autentica√ß√£o e autoriza√ß√£o (por exemplo, tokens de acesso);
* Informa√ß√µes sobre o tipo de conte√∫do que est√° sendo enviado ou esperado na resposta ('Content Type' e 'Accept')
* Controles de cache
* Informa√ß√µes sobre o idioma ('Accept-Language')
* E muitos outros prop√≥sitos

Os Header Params n√£o s√£o vis√≠veis na URL e, portanto, oferecem um meio seguro de transmitir informa√ß√µes sens√≠veis e controlar o comportamento da requisi√ß√£o e da resposta.


### Body: O Conte√∫do da nossa bolsa de livros
![alt text](../../../img/organizacao.webp)
Quando fazemos uma requisi√ß√£o que envolve o envio de dados complexos ou volumosos, como cadastrar um novo livro no cat√°logo ou fazer uma atualiza√ß√£o em massa, √© como se tivessemos trazendo uma bolsa de livros para adicionar √† biblioteca.

O Body (corpo) da requisi√ß√£o √© usado para enviar esses dados. Diferente dos par√¢metros de URL ou cabe√ßalho, o corpo pode conter informa√ß√µes estruturadas em formatos como JSON, XML, texto simples, dados de formul√°rios e at√© mesmo arquivos bin√°rios. Isso permite que dados complexos detalhados sejam enviados em uma √∫nica requisi√ß√£o. 

**Exemplo:**
* Criando ou atualizando registros (como adicionar um novo livro com todos os detalhes);
* Enviando formul√°tios;
* Fazendo uploads de arquivos;

‚ùïO corpo √© essencial para opera√ß√µes que requerem mais do que simples par√¢metros de identifica√ß√£o ou configura√ß√£o, permitindo uma comunica√ß√£o rica e detalhada com a API.

**Conclus√£o:**

Header Params e Body s√£o fundamentais para controlar como as requisi√ß√µes s√£o feitas e interpretadas pela API e para enviar dados. Usando nossa analogia da biblioteca:

- Os **Header Params** s√£o como um cart√£o de acesso que informa √† biblioteca quem somos e como queremos interagir com ela.
- O **Body** √© como uma bolsa de livros que trazemos para adicionar ao cat√°logo, contendo todos os detalhes necess√°rios em um formato organizado.

Juntos, esses elementos permitem uma comunica√ß√£o complexa e segura entre o cliente (n√≥s) e o servidor (a biblioteca), cada um atendendo a diferentes necessidades e cen√°rios de uso em uma API.





